(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2139],{3831:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,7970,23)),Promise.resolve().then(t.bind(t,3602)),Promise.resolve().then(t.bind(t,4106))},4106:(e,s,t)=>{"use strict";t.d(s,{default:()=>r});var l=t(5155),a=t(2115);let r=e=>{let{categorySlug:s}=e,[t,r]=(0,a.useState)([]),[i,c]=(0,a.useState)(!0),[n,d]=(0,a.useState)(null);return((0,a.useEffect)(()=>{(async()=>{try{c(!0),d(null);let e={_status:{equals:"published"}};s&&(e.categories={slug:{equals:s}});let t=new URLSearchParams({depth:"1",limit:"12",where:JSON.stringify(e)}),l=await fetch("/api/posts?".concat(t.toString()));if(!l.ok){let e=await l.text();throw Error("Failed to fetch posts: ".concat(e))}let a=await l.json();if(console.log("Posts data:",a),a&&Array.isArray(a.docs))r(a.docs);else throw Error("Invalid response format")}catch(e){console.error("Error fetching posts:",e),d(e instanceof Error?e.message:"An error occurred")}finally{c(!1)}})()},[s]),i)?(0,l.jsx)("div",{className:"w-full h-64 flex items-center justify-center",children:(0,l.jsx)("p",{className:"text-lg text-blue-500 dark:text-grey-200",children:"Loading posts..."})}):n?(0,l.jsx)("div",{className:"w-full h-64 flex items-center justify-center",children:(0,l.jsxs)("p",{className:"text-red-500",children:["Error: ",n]})}):t&&0!==t.length?(0,l.jsx)("div",{className:"mx-auto mt-16 grid max-w-2xl grid-cols-1 gap-x-8 gap-y-20 lg:mx-0 lg:max-w-none lg:grid-cols-3",children:t.map(e=>{var s,t,a,r,i,c;return(0,l.jsxs)("article",{className:"flex flex-col items-start justify-between",children:[(0,l.jsxs)("div",{className:"relative w-full",children:[(0,l.jsx)("img",{alt:(null===(s=e.heroImage)||void 0===s?void 0:s.alt)||e.title,src:"https://qsg-news.vercel.app".concat(null===(t=e.heroImage)||void 0===t?void 0:t.url),className:"aspect-[16/9] w-full rounded-2xl text-blue-500 dark:text-grey-200 bg-grey-200 dark:bg-dark-300 object-cover sm:aspect-[2/1] lg:aspect-[3/2]"}),(0,l.jsx)("div",{className:"absolute inset-0 rounded-2xl ring-1 ring-inset ring-grey-200/10 dark:ring-dark-100/50"})]}),(0,l.jsxs)("div",{className:"max-w-xl",children:[(0,l.jsxs)("div",{className:"mt-8 flex items-center gap-x-4 text-xs",children:[(0,l.jsx)("time",{dateTime:e.publishedAt,className:"text-blue-400 dark:text-grey-200",children:new Date(e.publishedAt).toLocaleDateString()}),null===(a=e.categories)||void 0===a?void 0:a.map(e=>(0,l.jsx)("span",{className:"relative z-10 rounded-full  px-3 py-1.5 font-medium text-blue-400 dark:text-grey-200",children:e.title},e.id))]}),(0,l.jsxs)("div",{className:"group relative",children:[(0,l.jsx)("h3",{className:"mt-3 text-lg font-semibold text-blue-300 group-hover:text-gray-600",children:(0,l.jsxs)("a",{href:"/posts/".concat(e.slug),className:"hover:underline",children:[(0,l.jsx)("span",{className:"absolute inset-0"}),e.title]})}),(0,l.jsx)("p",{className:"mt-5 line-clamp-3 text-sm text-blue-500 dark:text-grey-200",children:null===(r=e.meta)||void 0===r?void 0:r.description})]}),e.populatedAuthors&&e.populatedAuthors.length>0&&(0,l.jsxs)("div",{className:"relative mt-8 flex items-center gap-x-4",children:[(0,l.jsx)("img",{alt:(null===(i=e.populatedAuthors[0])||void 0===i?void 0:i.name)||"",src:"/placeholder-avatar.jpg",className:"h-10 w-10 rounded-full bg-gray-100"}),(0,l.jsxs)("div",{className:"text-sm",children:[(0,l.jsx)("p",{className:"font-semibold text-gray-900",children:null===(c=e.populatedAuthors[0])||void 0===c?void 0:c.name}),(0,l.jsx)("p",{className:"text-gray-600",children:"Author"})]})]})]})]},e.id)})}):(0,l.jsx)("div",{className:"w-full h-64 flex items-center justify-center",children:(0,l.jsx)("p",{className:"text-lg",children:"No posts found"})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[2545,6833,3602,8441,1517,7358],()=>s(3831)),_N_E=e.O()}]);