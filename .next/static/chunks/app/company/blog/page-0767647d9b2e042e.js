(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2139],{3831:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,7970,23)),Promise.resolve().then(t.bind(t,3602)),Promise.resolve().then(t.bind(t,4106))},4106:(e,s,t)=>{"use strict";t.d(s,{default:()=>i});var l=t(5155),a=t(2115),r=t(2818);let i=e=>{let{categorySlug:s}=e,[t,i]=(0,a.useState)([]),[n,o]=(0,a.useState)(!0),[c,d]=(0,a.useState)(null);return((0,a.useEffect)(()=>{(async()=>{try{o(!0),d(null);let e=new URLSearchParams({depth:"1",limit:"12",where:JSON.stringify({_status:{equals:"published"}}),fields:JSON.stringify({title:!0,slug:!0,heroImage:{url:!0},meta:{description:!0},publishedAt:!0,categories:{id:!0,title:!0},populatedAuthors:{id:!0,name:!0}})});s&&e.append("where",JSON.stringify({"categories.slug":{equals:s}}));let t=r.env.NEXT_PUBLIC_CMS_URL||"",l=await fetch("".concat(t,"/api/posts?").concat(e.toString()),{headers:{"Content-Type":"application/json"}});if(!l.ok)throw Error("HTTP error! status: ".concat(l.status));let a=await l.json();if(console.log("API Response:",a),a&&Array.isArray(a.docs))i(a.docs);else throw Error("Invalid response format")}catch(e){console.error("Error fetching posts:",e),d(e instanceof Error?e.message:"An error occurred")}finally{o(!1)}})()},[s]),n)?(0,l.jsx)("div",{className:"w-full h-64 flex items-center justify-center",children:(0,l.jsx)("p",{className:"text-lg",children:"Loading posts..."})}):c?(0,l.jsx)("div",{className:"w-full h-64 flex items-center justify-center",children:(0,l.jsxs)("p",{className:"text-red-500",children:["Error: ",c]})}):t&&0!==t.length?(0,l.jsx)("div",{className:"mx-auto mt-16 grid max-w-2xl grid-cols-1 gap-x-8 gap-y-20 lg:mx-0 lg:max-w-none lg:grid-cols-3",children:t.map(e=>{var s,t,a,r,i;return(0,l.jsxs)("article",{className:"flex flex-col items-start justify-between",children:[(0,l.jsxs)("div",{className:"relative w-full",children:[(0,l.jsx)("img",{alt:e.title,src:(null===(s=e.heroImage)||void 0===s?void 0:s.url)||"/placeholder-image.jpg",className:"aspect-[16/9] w-full rounded-2xl bg-gray-100 object-cover sm:aspect-[2/1] lg:aspect-[3/2]"}),(0,l.jsx)("div",{className:"absolute inset-0 rounded-2xl ring-1 ring-inset ring-gray-900/10"})]}),(0,l.jsxs)("div",{className:"max-w-xl",children:[(0,l.jsxs)("div",{className:"mt-8 flex items-center gap-x-4 text-xs",children:[(0,l.jsx)("time",{dateTime:e.publishedAt,className:"text-gray-500",children:new Date(e.publishedAt).toLocaleDateString()}),null===(t=e.categories)||void 0===t?void 0:t.map(e=>(0,l.jsx)("span",{className:"relative z-10 rounded-full bg-gray-50 px-3 py-1.5 font-medium text-gray-600 hover:bg-gray-100",children:e.title},e.id))]}),(0,l.jsxs)("div",{className:"group relative",children:[(0,l.jsx)("h3",{className:"mt-3 text-lg font-semibold text-gray-900 group-hover:text-gray-600",children:(0,l.jsxs)("a",{href:"/posts/".concat(e.slug),children:[(0,l.jsx)("span",{className:"absolute inset-0"}),e.title]})}),(0,l.jsx)("p",{className:"mt-5 line-clamp-3 text-sm text-gray-600",children:null===(a=e.meta)||void 0===a?void 0:a.description})]}),e.populatedAuthors&&e.populatedAuthors.length>0&&(0,l.jsxs)("div",{className:"relative mt-8 flex items-center gap-x-4",children:[(0,l.jsx)("img",{alt:(null===(r=e.populatedAuthors[0])||void 0===r?void 0:r.name)||"",src:"/placeholder-avatar.jpg",className:"h-10 w-10 rounded-full bg-gray-100"}),(0,l.jsxs)("div",{className:"text-sm",children:[(0,l.jsx)("p",{className:"font-semibold text-gray-900",children:null===(i=e.populatedAuthors[0])||void 0===i?void 0:i.name}),(0,l.jsx)("p",{className:"text-gray-600",children:"Author"})]})]})]})]},e.id)})}):(0,l.jsx)("div",{className:"w-full h-64 flex items-center justify-center",children:(0,l.jsx)("p",{className:"text-lg",children:"No posts found"})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[2545,6833,3602,8441,1517,7358],()=>s(3831)),_N_E=e.O()}]);